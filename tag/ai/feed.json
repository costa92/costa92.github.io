{
    "version": "https://jsonfeed.org/version/1",
    "title": "翼舞成梦",
    "subtitle": "翼舞成梦",
    "icon": "https://costalong.com/images/favicon.ico",
    "description": "",
    "home_page_url": "https://costalong.com",
    "items": [
        {
            "id": "https://costalong.com/2026/01/03/claude-code-cc-switch-antigravity-tools-zu-he-shi-yong-zhi-nan/",
            "url": "https://costalong.com/2026/01/03/claude-code-cc-switch-antigravity-tools-zu-he-shi-yong-zhi-nan/",
            "title": "Claude Code + CC-Switch + Antigravity Tools 组合使用指南",
            "date_published": "2026-01-03T15:42:42.000Z",
            "content_html": "<p><img src=\"/medias/loading.gif\" data-original=\"https://file.costalong.com/img/20260103224723137.png\" alt=\"image.png\"></p>\n<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>结合了 Claude Code (强大的 AI 编程助手)、CC-Switch (假设为上下文/配置快速切换工具) 和 Antigravity Tools</p>\n<table>\n<thead>\n<tr>\n<th>工具</th>\n<th>功能</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>Claude Code</strong></td>\n<td>Anthropic 官方 CLI 工具</td>\n<td>在终端中与 Claude 交互，进行代码编写、调试、重构等</td>\n</tr>\n<tr>\n<td><strong>CC-Switch</strong></td>\n<td>账号切换管理器</td>\n<td>管理多个 Claude 账号，一键切换，支持使用量统计</td>\n</tr>\n<tr>\n<td><strong>Antigravity Tools</strong></td>\n<td>API 反代 &amp; 账号管理</td>\n<td>提供本地 API 代理服务，支持 OAuth 授权管理多账号</td>\n</tr>\n</tbody></table>\n<h3 id=\"工作原理\"><a href=\"#工作原理\" class=\"headerlink\" title=\"工作原理\"></a>工作原理</h3><pre><code>Claude Code CLI  →  Antigravity Tools (本地反代)  →  Claude API\n                            ↑\n                     CC-Switch (账号管理)\n</code></pre>\n<ul>\n<li><strong>Antigravity Tools</strong> 作为本地代理服务器，转发 Claude Code 的请求</li>\n<li><strong>CC-Switch</strong> 可以在 Antigravity 之上提供更便捷的账号切换功能</li>\n<li>三者配合使用，实现多账号管理和无缝切换</li>\n</ul>\n<hr>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><h3 id=\"1-Claude-Code\"><a href=\"#1-Claude-Code\" class=\"headerlink\" title=\"1. Claude Code\"></a>1. Claude Code</h3><p><a href=\"https://github.com/anthropics/claude-code\">GitHub 仓库</a></p>\n<p><strong>前提条件</strong>：</p>\n<ul>\n<li>Node.js 18+</li>\n<li>npm 或其他包管理器</li>\n</ul>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g @anthropic-ai/claude-code\n</code></pre>\n<p>安装后验证：</p>\n<pre class=\" language-bash\"><code class=\"language-bash\">claude --version\n</code></pre>\n<h3 id=\"2-CC-Switch\"><a href=\"#2-CC-Switch\" class=\"headerlink\" title=\"2. CC-Switch\"></a>2. CC-Switch</h3><p><a href=\"https://github.com/farion1231/cc-switch\">GitHub 仓库</a></p>\n<p><strong>macOS 安装</strong>：</p>\n<pre class=\" language-bash\"><code class=\"language-bash\">brew tap farion1231/ccswitch\nbrew <span class=\"token function\">install</span> --cask cc-switch\n</code></pre>\n<p><strong>Linux 安装</strong>：<br>前往 <a href=\"https://github.com/farion1231/cc-switch/releases\">Releases 页面</a> 下载适合的安装包：</p>\n<ul>\n<li><code>.deb</code> - Debian/Ubuntu 系</li>\n<li><code>.rpm</code> - RedHat/Fedora 系</li>\n<li><code>AppImage</code> - 通用格式</li>\n</ul>\n<h3 id=\"3-Antigravity-Tools\"><a href=\"#3-Antigravity-Tools\" class=\"headerlink\" title=\"3. Antigravity Tools\"></a>3. Antigravity Tools</h3><p><a href=\"https://github.com/lbjlaq/Antigravity-Manager\">GitHub 仓库</a></p>\n<p>前往 <a href=\"https://github.com/lbjlaq/Antigravity-Manager/releases\">GitHub Releases</a> 下载对应系统的包：</p>\n<table>\n<thead>\n<tr>\n<th>系统</th>\n<th>格式</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>macOS</strong></td>\n<td><code>.dmg</code></td>\n<td>支持 Apple Silicon &amp; Intel</td>\n</tr>\n<tr>\n<td><strong>Windows</strong></td>\n<td><code>.msi</code> 或 <code>.zip</code></td>\n<td>安装版或便携版</td>\n</tr>\n<tr>\n<td><strong>Linux</strong></td>\n<td><code>.deb</code> 或 <code>AppImage</code></td>\n<td>根据发行版选择</td>\n</tr>\n</tbody></table>\n<hr>\n<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><h3 id=\"CC-Switch-配置\"><a href=\"#CC-Switch-配置\" class=\"headerlink\" title=\"CC-Switch 配置\"></a>CC-Switch 配置</h3><p><img src=\"/medias/loading.gif\" data-original=\"https://file.costalong.com/img/20260103205511054.png\" alt=\"CC-Switch 配置界面\"></p>\n<p><strong>主要功能</strong>：</p>\n<ul>\n<li>管理多个 Claude 账号</li>\n<li>快速切换当前使用的账号</li>\n<li>查看各账号的使用量统计</li>\n<li>支持快捷键切换</li>\n</ul>\n<h3 id=\"Antigravity-Tools-配置\"><a href=\"#Antigravity-Tools-配置\" class=\"headerlink\" title=\"Antigravity Tools 配置\"></a>Antigravity Tools 配置</h3><p><img src=\"/medias/loading.gif\" data-original=\"https://file.costalong.com/img/20260103205426774.png\" alt=\"Antigravity Tools 主界面\"></p>\n<p><img src=\"/medias/loading.gif\" data-original=\"https://file.costalong.com/img/20260103205632292.png\" alt=\"Antigravity Tools API 反代设置\"></p>\n<p><strong>关键配置项</strong>：</p>\n<ol>\n<li><strong>API 反代端口</strong>：默认 <code>8045</code>，可自定义</li>\n<li><strong>账号管理</strong>：通过 OAuth 添加多个 Claude 账号</li>\n<li><strong>负载均衡</strong>：可配置多账号轮询或指定账号</li>\n</ol>\n<hr>\n<h2 id=\"快速接入\"><a href=\"#快速接入\" class=\"headerlink\" title=\"快速接入\"></a>快速接入</h2><h3 id=\"步骤一：添加-Claude-账号（OAuth-授权）\"><a href=\"#步骤一：添加-Claude-账号（OAuth-授权）\" class=\"headerlink\" title=\"步骤一：添加 Claude 账号（OAuth 授权）\"></a>步骤一：添加 Claude 账号（OAuth 授权）</h3><ol>\n<li>打开 Antigravity Tools → “账号 / Accounts” → “添加账号” → “OAuth”</li>\n<li>点击生成的授权链接，链接会自动复制到剪贴板</li>\n<li>在浏览器中打开链接，完成 Claude 授权</li>\n<li>授权成功后浏览器显示 “✅ 授权成功!”</li>\n<li>应用自动完成后续流程；如未自动完成，点击”我已授权，继续”</li>\n</ol>\n<blockquote>\n<p><strong>注意</strong>：授权链接包含一次性回调端口，请使用弹窗里生成的最新链接。如果授权时应用未运行，浏览器可能会提示 <code>localhost refused connection</code>。</p>\n</blockquote>\n<h3 id=\"步骤二：启动-API-反代服务\"><a href=\"#步骤二：启动-API-反代服务\" class=\"headerlink\" title=\"步骤二：启动 API 反代服务\"></a>步骤二：启动 API 反代服务</h3><ol>\n<li>在 Antigravity Tools 中打开 “API 反代” 页面</li>\n<li>点击 “开启服务”</li>\n<li>确认服务状态为 “运行中”</li>\n</ol>\n<h3 id=\"步骤三：配置-Claude-Code-环境变量\"><a href=\"#步骤三：配置-Claude-Code-环境变量\" class=\"headerlink\" title=\"步骤三：配置 Claude Code 环境变量\"></a>步骤三：配置 Claude Code 环境变量</h3><p>在终端中设置环境变量：</p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">export</span> ANTHROPIC_API_KEY<span class=\"token operator\">=</span><span class=\"token string\">\"sk-antigravity\"</span>\n<span class=\"token function\">export</span> ANTHROPIC_BASE_URL<span class=\"token operator\">=</span><span class=\"token string\">\"http://127.0.0.1:8045\"</span>\n</code></pre>\n<p><strong>持久化配置</strong>（添加到 shell 配置文件）：</p>\n<p><strong>Zsh</strong> (~/.zshrc)：</p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">echo</span> <span class=\"token string\">'export ANTHROPIC_API_KEY=\"sk-antigravity\"'</span> <span class=\"token operator\">>></span> ~/.zshrc\n<span class=\"token keyword\">echo</span> <span class=\"token string\">'export ANTHROPIC_BASE_URL=\"http://127.0.0.1:8045\"'</span> <span class=\"token operator\">>></span> ~/.zshrc\n<span class=\"token function\">source</span> ~/.zshrc\n</code></pre>\n<p><strong>Bash</strong> (~/.bashrc)：</p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">echo</span> <span class=\"token string\">'export ANTHROPIC_API_KEY=\"sk-antigravity\"'</span> <span class=\"token operator\">>></span> ~/.bashrc\n<span class=\"token keyword\">echo</span> <span class=\"token string\">'export ANTHROPIC_BASE_URL=\"http://127.0.0.1:8045\"'</span> <span class=\"token operator\">>></span> ~/.bashrc\n<span class=\"token function\">source</span> ~/.bashrc\n</code></pre>\n<h3 id=\"步骤四：启动-Claude-Code\"><a href=\"#步骤四：启动-Claude-Code\" class=\"headerlink\" title=\"步骤四：启动 Claude Code\"></a>步骤四：启动 Claude Code</h3><pre class=\" language-bash\"><code class=\"language-bash\">claude\n</code></pre>\n<p>现在 Claude Code 会通过 Antigravity Tools 的本地代理服务连接到 Claude API。</p>\n<hr>\n<h2 id=\"工作流程示例\"><a href=\"#工作流程示例\" class=\"headerlink\" title=\"工作流程示例\"></a>工作流程示例</h2><h3 id=\"日常使用流程\"><a href=\"#日常使用流程\" class=\"headerlink\" title=\"日常使用流程\"></a>日常使用流程</h3><pre><code>1. 启动 Antigravity Tools → 开启 API 反代\n2. (可选) 使用 CC-Switch 选择要使用的账号\n3. 打开终端 → 运行 claude\n4. 开始编程！\n</code></pre>\n<h3 id=\"切换账号\"><a href=\"#切换账号\" class=\"headerlink\" title=\"切换账号\"></a>切换账号</h3><p><strong>使用 CC-Switch</strong>：</p>\n<ul>\n<li>点击托盘图标，选择要切换的账号</li>\n<li>或使用配置的快捷键快速切换</li>\n</ul>\n<p><strong>使用 Antigravity Tools</strong>：</p>\n<ul>\n<li>在账号管理页面选择默认账号</li>\n<li>或配置负载均衡策略</li>\n</ul>\n<hr>\n<h2 id=\"常见问题排查\"><a href=\"#常见问题排查\" class=\"headerlink\" title=\"常见问题排查\"></a>常见问题排查</h2><h3 id=\"macOS-提示”应用已损坏，无法打开”\"><a href=\"#macOS-提示”应用已损坏，无法打开”\" class=\"headerlink\" title=\"macOS 提示”应用已损坏，无法打开”\"></a>macOS 提示”应用已损坏，无法打开”</h3><p>由于 macOS 的安全机制，非 App Store 下载的应用可能触发此提示。</p>\n<p><strong>解决方法 1 - 命令行修复</strong> (推荐)：</p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> xattr -rd com.apple.quarantine <span class=\"token string\">\"/Applications/Antigravity Tools.app\"</span>\n</code></pre>\n<p><strong>解决方法 2 - Homebrew 安装时规避</strong>：</p>\n<pre class=\" language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> --cask --no-quarantine antigravity-tools\n</code></pre>\n<h3 id=\"Claude-Code-连接失败\"><a href=\"#Claude-Code-连接失败\" class=\"headerlink\" title=\"Claude Code 连接失败\"></a>Claude Code 连接失败</h3><ol>\n<li><strong>检查 Antigravity 服务状态</strong>：确认 API 反代服务已启动</li>\n<li><strong>检查端口</strong>：确认 <code>ANTHROPIC_BASE_URL</code> 端口与 Antigravity 设置一致</li>\n<li><strong>检查环境变量</strong>：运行 <code>echo $ANTHROPIC_BASE_URL</code> 确认已设置</li>\n<li><strong>检查账号</strong>：确认至少有一个有效的 Claude 账号已授权</li>\n</ol>\n<h3 id=\"环境变量未生效\"><a href=\"#环境变量未生效\" class=\"headerlink\" title=\"环境变量未生效\"></a>环境变量未生效</h3><ul>\n<li>确认添加到正确的 shell 配置文件（<code>.zshrc</code> 或 <code>.bashrc</code>）</li>\n<li>运行 <code>source ~/.zshrc</code> 或重新打开终端</li>\n<li>使用 <code>env | grep ANTHROPIC</code> 验证设置</li>\n</ul>\n<hr>\n<h2 id=\"使用技巧\"><a href=\"#使用技巧\" class=\"headerlink\" title=\"使用技巧\"></a>使用技巧</h2><h3 id=\"1-开机自启\"><a href=\"#1-开机自启\" class=\"headerlink\" title=\"1. 开机自启\"></a>1. 开机自启</h3><ul>\n<li><strong>Antigravity Tools</strong>：在设置中开启”开机自启动”</li>\n<li><strong>CC-Switch</strong>：在设置中开启”登录时启动”</li>\n</ul>\n<h3 id=\"2-多账号负载均衡\"><a href=\"#2-多账号负载均衡\" class=\"headerlink\" title=\"2. 多账号负载均衡\"></a>2. 多账号负载均衡</h3><p>在 Antigravity Tools 中添加多个账号后，可配置：</p>\n<ul>\n<li><strong>轮询模式</strong>：请求自动分配到不同账号</li>\n<li><strong>指定模式</strong>：手动选择使用的账号</li>\n</ul>\n<h3 id=\"3-快捷操作\"><a href=\"#3-快捷操作\" class=\"headerlink\" title=\"3. 快捷操作\"></a>3. 快捷操作</h3><ul>\n<li>使用 CC-Switch 的托盘图标快速切换账号</li>\n<li>配置全局快捷键实现一键切换</li>\n</ul>\n<h3 id=\"4-使用量监控\"><a href=\"#4-使用量监控\" class=\"headerlink\" title=\"4. 使用量监控\"></a>4. 使用量监控</h3><p>通过 CC-Switch 或 Antigravity Tools 查看：</p>\n<ul>\n<li>各账号的 API 调用次数</li>\n<li>Token 使用量统计</li>\n<li>剩余配额</li>\n</ul>\n<hr>\n<h2 id=\"相关链接\"><a href=\"#相关链接\" class=\"headerlink\" title=\"相关链接\"></a>相关链接</h2><ul>\n<li><a href=\"https://docs.anthropic.com/en/docs/claude-code\">Claude Code 官方文档</a></li>\n<li><a href=\"https://github.com/farion1231/cc-switch\">CC-Switch GitHub</a></li>\n<li><a href=\"https://github.com/lbjlaq/Antigravity-Manager\">Antigravity Tools GitHub</a></li>\n<li><a href=\"https://docs.anthropic.com/en/api\">Anthropic API 文档</a></li>\n</ul>\n<link rel=\"stylesheet\" href=\"/css/spoiler.css\" type=\"text/css\"><script src=\"/js/spoiler.js\" type=\"text/javascript\" async></script>",
            "tags": [
                "ai"
            ]
        }
    ]
}