<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="Linux 网络工具 netstat, 翼舞成梦"><meta name="description" content="netstat1. netstat 命令netstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Membershi"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer-when-downgrade"><script async src="https://www.googletagmanager.com/gtag/js?id="></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","")</script><title>Linux 网络工具 netstat | 翼舞成梦</title><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css"><link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" type="text/css" href="/libs/aos/aos.css"><link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css"><link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" type="text/css" href="/css/matery.css"><link rel="stylesheet" type="text/css" href="/css/my.css"><link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload='"all"!=media&&(media="all")'><link rel="stylesheet" type="text/css" href="/css/infinite-scroll.css"><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><link rel="stylesheet" href="/css/post.css"><link rel="stylesheet" type="text/css" href="/css/reward.css"><script src="/libs/jquery/jquery-3.6.0.min.js"></script><meta name="generator" content="Hexo 6.3.0"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="/medias/logo.png" class="logo-img" alt="LOGO"> <span class="logo-span">翼舞成梦</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fas fa-comments" style="zoom:.6"></i> <span>留言板</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-address-book" style="zoom:.6"></i> <span>友情链接</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/galleries" class="waves-effect waves-light"><i class="fas fa-image" style="zoom:.6"></i> <span>相册</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li><li><a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式"><i id="sum-moon-icon" class="fas fa-sun" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="/medias/logo.png" class="logo-img circle responsive-img"><div class="logo-name">翼舞成梦</div><div class="logo-desc">From simple to complex is long, from complex to simple is precipitation</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fa-fw fas fa-comments"></i> 留言板</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-address-book"></i> 友情链接</a></li><li class="m-nav-item"><a href="/galleries" class="waves-effect waves-light"><i class="fa-fw fas fa-image"></i> 相册</a></li></ul></div></div></nav></header><div class="bg-cover pd-header post-cover" style="background-image:url(/medias/featureimages/2.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">Linux 网络工具 netstat</h1></div></div></div></div></div><main class="post-container content"><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/Linux/"><span class="chip bg-color">Linux</span> </a><a href="/tags/Network/"><span class="chip bg-color">Network</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/Linux/" class="post-category">Linux </a><a href="/categories/Linux/Network/" class="post-category">Network</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp; 2024-07-16</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp; 3k</div><div id="busuanzi_container_page_pv" class="info-break-policy"><i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp; <span id="busuanzi_value_page_pv"></span></div></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><h1 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h1><h2 id="1-netstat-命令"><a href="#1-netstat-命令" class="headerlink" title="1. netstat 命令"></a>1. netstat 命令</h2><p>netstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。</p><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><pre class="language-sh"><code class="language-sh">netstat [-acCeFghilMnNoprstuvVwx][-A<网络类型>][--ip]
</网络类型></code></pre><h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><pre class="language-sh"><code class="language-sh">-a或--all 显示所有连线中的Socket。
-A<网络类型>或--<网络类型> 列出该网络类型连线中的相关地址。
-c或--continuous 持续列出网络状态。
-C或--cache 显示路由器配置的快取信息。
-e或--extend 显示网络其他相关信息。
-F或--fib 显示路由缓存。
-g或--groups 显示多重广播功能群组组员名单。
-h或--help 在线帮助。
-i或--interfaces 显示网络界面信息表单。
-l或--listening 显示监控中的服务器的Socket。
-M或--masquerade 显示伪装的网络连线。
-n或--numeric 直接使用IP地址，而不通过域名服务器。
-N或--netlink或--symbolic 显示网络硬件外围设备的符号连接名称。
-o或--timers 显示计时器。
-p或--programs 显示正在使用Socket的程序识别码和程序名称。
-r或--route 显示Routing Table。
-s或--statistics 显示网络工作信息统计表。
-t或--tcp 显示TCP传输协议的连线状况。
-u或--udp 显示UDP传输协议的连线状况。
-v或--verbose 显示指令执行过程。
-V或--version 显示版本信息。
-w或--raw 显示RAW传输协议的连线状况。
-x或--unix 此参数的效果和指定"-A unix"参数相同。
--ip或--inet 此参数的效果和指定"-A inet"参数相同。
</网络类型></网络类型></code></pre><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h4 id="1-显示网络状态"><a href="#1-显示网络状态" class="headerlink" title="1. 显示网络状态"></a>1. 显示网络状态</h4><pre class="language-sh"><code class="language-sh">netstat -a
</code></pre><p>结果：</p><pre class="language-sh"><code class="language-sh">Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 192.168.122.1:domain    0.0.0.0:*               LISTEN
tcp        0      0 localhost:ipp           0.0.0.0:*               LISTEN
tcp        0      0 localhost:35600         0.0.0.0:*               LISTEN
tcp        0      0 127.0.0.54:domain       0.0.0.0:*               LISTEN
tcp        0      0 localhost:31080         0.0.0.0:*               LISTEN
tcp        0      0 localhost:31055         0.0.0.0:*               LISTEN
tcp        0      0 hellotalk:domain        0.0.0.0:*               LISTEN
tcp        0      0 127.0.0.53:domain       0.0.0.0:*               LISTEN
tcp        0      0 172.16.0.112:50006      113.240.72.111:https    TIME_WAIT
tcp        0      0 10.100.100.164:56010    10.40.2.11:27017        ESTABLISHED
tcp        0      0 10.100.100.164:43846    10.40.2.5:27017         ESTABLISHED
</code></pre><p>字段说明：</p><p>1.Proto：传输层协议 TCP 或 UDP</p><p>2.Recv-Q：接收队列</p><p>3.Send-Q：发送队列</p><p>4.Local Address：本地地址</p><p>5.Foreign Address：远程地址</p><p>6.State：状态 LISTEN：侦听，ESTABLISHED：已建立，TIME_WAIT：关闭</p><h4 id="2-显示当前户籍-UDP-连接状况"><a href="#2-显示当前户籍-UDP-连接状况" class="headerlink" title="2. 显示当前户籍 UDP 连接状况"></a>2. 显示当前户籍 UDP 连接状况</h4><pre class="language-sh"><code class="language-sh">netstat -nu
</code></pre><p>结果：</p><pre class="language-sh"><code class="language-sh">激活Internet连接 (w/o 服务器)
Proto Recv-Q Send-Q Local Address           Foreign Address         State
udp        0      0 127.0.0.1:56871         127.0.1.1:53            ESTABLISHED
udp        0      0 172.16.0.112:42799      106.38.222.156:443      ESTABLISHED
udp        0      0 172.16.0.112:68         172.16.0.1:67           ESTABLISHED
</code></pre><h4 id="3-显示当前户籍-TCP-连接状况"><a href="#3-显示当前户籍-TCP-连接状况" class="headerlink" title="3. 显示当前户籍 TCP 连接状况"></a>3. 显示当前户籍 TCP 连接状况</h4><pre class="language-sh"><code class="language-sh">netstat -nt
</code></pre><p>结果：</p><pre class="language-sh"><code class="language-sh">激活Internet连接 (w/o 服务器)
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 10.100.100.164:56010    10.40.2.11:27017        ESTABLISHED
tcp        0      0 10.100.100.164:43846    10.40.2.5:27017         ESTABLISHED
tcp        0      0 172.16.0.112:60087      43.159.193.150:8002     TIME_WAIT
tcp        0      0 172.16.0.112:57712      113.240.72.99:443       TIME_WAIT
tcp        0      0 10.100.100.164:55986    10.40.2.11:27017        ESTABLISHED
tcp        0      0 10.100.100.164:43722    10.40.2.5:27017         ESTABLISHED
</code></pre><h4 id="4-显示当前系统中所有正在监听的-TCP-端口、相关的进程以及其状态"><a href="#4-显示当前系统中所有正在监听的-TCP-端口、相关的进程以及其状态" class="headerlink" title="4. 显示当前系统中所有正在监听的 TCP 端口、相关的进程以及其状态"></a>4. 显示当前系统中所有正在监听的 TCP 端口、相关的进程以及其状态</h4><pre class="language-sh"><code class="language-sh">netstat -ntlp
</code></pre><p>结果：</p><pre class="language-sh"><code class="language-sh">Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      1234/nginx
tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN      2345/mysqld
tcp6       0      0 :::22                   :::*                    LISTEN      3456/sshd
</code></pre><p>字段解析：</p><ol><li><p>Proto：协议</p><ul><li>tcp：表示 TCP 协议。</li><li>tcp6：表示 IPv6 的 TCP 协议。</li></ul></li><li><p>Recv-Q 和 Send-Q：</p><ul><li>Recv-Q：表示接收队列</li><li>Send-Q：表示发送队列</li></ul></li><li><p>Local Address：本地地址</p><ul><li>0.0.0.0:80：本地地址和端口号，0.0.0.0 表示监听所有接口的 IP 地址，80 是端口号。</li><li>127.0.0.1:3306：本地环回地址（localhost）上的端口 3306。</li><li>:::22：IPv6 地址的端口 22。</li></ul></li><li><p>Foreign Address：远程地址</p><ul><li>0.0.0.0:* 和 :::*：表示监听所有外部地址。</li></ul></li><li><p>State：状态</p><ul><li>LISTEN：表示服务器正在监听 TCP 连接请求。</li><li>ESTABLISHED：表示连接已经建立。</li><li>TIME_WAIT：表示主动关闭连接的一方在关闭连接后，等待 2MSL 后依然没有收到对方的 FIN 报文，处于等待关闭状态。</li><li>CLOSE_WAIT：表示被动关闭连接的一方在收到对方的 FIN 报文后，等待应用进程关闭连接。</li><li>LAST_ACK：表示被动关闭连接的一方在发送完 FIN 报文后，等待对方的 ACK 报文，如果收到 ACK 报文，则处于 CLOSED 状态，否则处于 TIME_WAIT 状态。</li><li>CLOSED：表示连接已经关闭。</li><li>SYN_RECV：表示正在等待处理的请求数目。</li><li>SYN_SENT：表示正在等待远程连接请求。</li><li>CLOSING：表示正在等待远程连接关闭请求。</li><li>UNKNOWN：表示未知状态。</li><li>LISTENING：表示正在等待远程连接请求。</li><li>IDLE：表示连接处于空闲状态。</li><li>BOUND：表示正在等待远程连接请求。</li><li>FIN_WAIT1: 套接字已经发出了一个 FIN 请求，表示它已经完成了发送数据，正在等待对方的 ACK 响应。</li><li>FIN_WAIT2: 套接字收到了对 FIN 请求的 ACK 响应，正在等待对方发出 FIN 请求。</li></ul></li><li><p>PID/Program name：进程 ID 和进程名称</p><ul><li>1234/nginx：进程 ID 为 1234 的 nginx 进程正在监听 80 端口。</li><li>2345/mysqld：进程 ID 为 2345 的 mysqld 进程正在监听 3306 端口。</li><li>3456/sshd：进程 ID 为 3456 的 sshd 进程正在监听 22 端口。</li></ul></li></ol><h4 id="5-显示网卡列表"><a href="#5-显示网卡列表" class="headerlink" title="5. 显示网卡列表"></a>5. 显示网卡列表</h4><pre class="language-sh"><code class="language-sh"> netstat -i
</code></pre><p>结果：</p><pre class="language-sh"><code class="language-sh">Iface             MTU    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg
br-717e070443f8  1500        0      0      0 0             0      0      0      0 BMU
br-7f56e5476213  1500        0      0      0 0             0      0      0      0 BMU
docker0          1500        0      0      0 0             0      0      0      0 BMU
eno1             1500  3838424      0      0 0       3615697      0      0      0 BMRU
lo              65536  1115368      0      0 0       1115368      0      0      0 LRU
utun             1400  2667684      0      0 0       2598307      0      0      0 MOPRU
virbr0           1500        0      0      0 0             0      0      0      0 BMU
</code></pre><p>字段解析：</p><ol><li>Iface：网卡名称</li><li>MTU：最大传输单元</li><li>RX-OK：接收数据包总数</li><li>RX-ERR：接收数据包错误总数</li><li>RX-DRP：接收数据包丢弃总数</li><li>RX-OVR：接收数据包溢出总数</li><li>TX-OK：发送数据包总数</li><li>TX-ERR：发送数据包错误总数</li><li>TX-DRP：发送数据包丢弃总数</li><li>TX-OVR：发送数据包溢出总数</li><li>Flg：标志</li></ol><ul><li>BMU：广播地址</li><li>BMRU：广播地址和多播地址</li><li>MOPRU：多播地址</li><li>LRU：本地地址</li><li>MPRU：多播地址和本地地址</li><li>OPRU：多播地址和本地地址和广播地址</li><li>ALL：所有地址</li></ul><p>###＃ 6. 显示组播组的关系</p><pre class="language-sh"><code class="language-sh">netstat -g
</code></pre><p>结果：</p><pre class="language-sh"><code class="language-sh">IPv6/IPv4 Group Memberships
Interface       RefCnt Group
--------------- ------ ---------------------
lo              1      mdns.mcast.net
lo              1      all-systems.mcast.net
</code></pre><p>字段解析：</p><ol><li>Interface：网卡名称</li><li>RefCnt：引用计数</li><li>Group：组播组</li></ol><p>###＃ 7. 显示网络统计信息</p><pre class="language-sh"><code class="language-sh">netstat -s
</code></pre><p>结果：</p><pre class="language-sh"><code class="language-sh">Ip:
    Forwarding: 1
    7269919 total packets received
    0 forwarded
    0 incoming packets discarded
    7265662 incoming packets delivered
    7078118 requests sent out
    28 outgoing packets dropped
    7895 dropped because of missing route
    8416 reassemblies required
    4208 packets reassembled ok
    6 outgoing packets failed fragmentation
    OutTransmits: 7078115
Icmp:
    2022 ICMP messages received
    6 input ICMP message failed
    ICMP接收历史
        destination unreachable: 2020
        echo requests: 2
    2176 ICMP messages sent
    0 ICMP messages failed
    OutRateLimitHost: 253
    ICMP发出历史
        destination unreachable: 2174
        echo replies: 2
IcmpMsg:
        InType3: 2020
        InType8: 2
        OutType0: 2
        OutType3: 2174
Tcp:
    202192 active connection openings
    10375 passive connection openings
    120686 failed connection attempts
    3047 connection resets received
    77 connections established
    6857878 segments received
    7083293 segments sent out
    16799 segments retransmitted
    1119 bad segments received
    131681 resets sent
Udp:
    1456958 packets received
    2421 packets to unknown port received
    32 packet receive errors
    556388 packets sent
    0 receive buffer errors
    8 send buffer errors
    InCsumErrors: 32
    IgnoredMulti: 12191
UdpLite:
TcpExt:
    3 ICMP packets dropped because they were out-of-window
    30122 TCP sockets finished time wait in fast timer
    1 packets rejected in established connections because of timestamp
    119999 delayed acks sent
    39 delayed acks further delayed because of locked socket
    Quick ack mode was activated 34511 times
    1065795 packet headers predicted
    687289 acknowledgments not containing data payload received
    1455607 predicted acknowledgments
    TCPSackRecovery: 327
    Detected reordering 676 times using SACK
    TCPDSACKUndo: 97
    87 congestion windows recovered without slow start after partial ack
    TCPLostRetransmit: 8875
    TCPSackFailures: 8
    3 timeouts in loss state
    466 fast retransmits
    133 retransmits in slow start
    TCPTimeouts: 11823
    TCPLossProbes: 5420
    TCPLossProbeRecovery: 82
    TCPSackRecoveryFail: 10
    TCPBacklogCoalesce: 2369
    TCPDSACKOldSent: 34608
    TCPDSACKOfoSent: 51
    TCPDSACKRecv: 1827
    TCPDSACKOfoRecv: 16
    1537 connections reset due to unexpected data
    2171 connections reset due to early user close
    484 connections aborted due to timeout
    10 times unable to send RST due to no memory
    TCPSACKDiscard: 2
    TCPDSACKIgnoredOld: 7
    TCPDSACKIgnoredNoUndo: 815
    TCPSackShifted: 26
    TCPSackMerged: 342
    TCPSackShiftFallback: 1984
    IPReversePathFilter: 22
    TCPRcvCoalesce: 203651
    TCPOFOQueue: 50737
    TCPOFOMerge: 54
    TCPChallengeACK: 879
    TCPSYNChallenge: 1140
    TCPSpuriousRtxHostQueues: 18
    TCPAutoCorking: 458417
    TCPFromZeroWindowAdv: 35
    TCPToZeroWindowAdv: 35
    TCPWantZeroWindowAdv: 167
    TCPSynRetrans: 7312
    TCPOrigDataSent: 3398432
    TCPHystartTrainDetect: 22
    TCPHystartTrainCwnd: 1073
    TCPHystartDelayDetect: 42
    TCPHystartDelayCwnd: 1831
    TCPACKSkippedSeq: 286
    TCPACKSkippedChallenge: 265
    TCPKeepAlive: 97079
    TCPDelivered: 3475194
    TCPAckCompressed: 14499
    TcpTimeoutRehash: 11471
    TCPDSACKRecvSegs: 1841
    TCPDSACKIgnoredDubious: 2
IpExt:
    InNoRoutes: 17
    InMcastPkts: 118643
    OutMcastPkts: 8410
    InBcastPkts: 17704
    OutBcastPkts: 1960
    InOctets: 3807905209
    OutOctets: 1523626052
    InMcastOctets: 53391437
    OutMcastOctets: 1586713
    InBcastOctets: 9013152
    OutBcastOctets: 152880
    InNoECTPkts: 7512863
    InECT0Pkts: 18
MPTcpExt:
</code></pre><h4 id="显示监听的套接口"><a href="#显示监听的套接口" class="headerlink" title="显示监听的套接口"></a>显示监听的套接口</h4><pre class="language-sh"><code class="language-sh">netstat -l
</code></pre><pre class="language-sh"><code class="language-sh">激活Internet连接 (仅服务器)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 hellotalk:domain        0.0.0.0:*               LISTEN     
tcp6       0      0 [::]:3100               [::]:*                  LISTEN     
udp        0      0 0.0.0.0:45010           0.0.0.0:*                                            
udp        0      0 0.0.0.0:mdns            0.0.0.0:*                          
udp6       0      0 [::]:49287              [::]:*                             
              7          
活跃的UNIX域套接字 (仅服务器)
Proto RefCnt Flags       Type       State         I-Node   路径
unix  2      [ ACC ]     流        LISTENING     1010159  /tmp/.java_pid169241.tmp
</code></pre><p>字段解析：</p><ul><li>Proto：协议名，如tcp、udp、unix等</li><li>Recv-Q：接收队列，即收到的但未处理的数据包数</li><li>Send-Q：发送队列，即发送但未确认的数据包数</li><li>Local Address：本地地址</li><li>Foreign Address：远程地址</li><li>State：套接字状态，如LISTEN、ESTABLISHED等</li><li>I-Node：套接字inode号</li><li>路径：unix域套接字路径</li><li>RefCnt：引用计数</li><li>Flags：套接字标志，如S表示套接字是被动打开的，即服务器端，而A表示套接字是主动打开的，即客户端</li><li>Type：套接字类型，如流套接字、数据报套接字等</li><li>路径：unix域套接字路径</li></ul><h4 id="查看路由表"><a href="#查看路由表" class="headerlink" title="查看路由表"></a>查看路由表</h4><pre class="language-sh"><code class="language-sh">netstat -r
</code></pre><pre class="language-sh"><code class="language-sh">内核 IP 路由表
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         172.16.0.1      0.0.0.0         UG        0 0          0 eno1
one.one.one.one 0.0.0.0         255.255.255.255 UH        0 0          0 utun
10.10.0.0       0.0.0.0         255.255.0.0     U         0 0          0 utun
10.40.0.0       0.0.0.0         255.255.0.0     U         0 0          0 utun
10.100.100.0    0.0.0.0         255.255.255.0   U         0 0          0 utun
30.100.0.0      0.0.0.0         255.252.0.0     U         0 0          0 utun
feilian.hellota 172.16.0.1      255.255.255.255 UGH       0 0          0 eno1
link-local      0.0.0.0         255.255.0.0     U         0 0          0 utun
172.16.0.0      0.0.0.0         255.255.254.0   U         0 0          0 eno1
172.16.6.20     172.16.0.1      255.255.255.255 UGH       0 0          0 eno1
172.17.0.0      0.0.0.0         255.255.0.0     U         0 0          0 docker0
192.168.49.0    0.0.0.0         255.255.255.0   U         0 0          0 br-717e070443f8
192.168.58.0    0.0.0.0         255.255.255.0   U         0 0          0 br-7f56e5476213
192.168.122.0   0.0.0.0         255.255.255.0   U         0 0          0 virbr0
</code></pre><p>字段解析：</p><ul><li>Destination：目的网络或目的主机</li><li>Gateway：指定用于转发包的网关。</li><li>Genmask：子网掩码</li><li>Flags：路由标志，如U表示路由是活动的，H表示目的地址是一个主机，G表示使用网关</li><li>MSS：最大分段大小</li><li>Window：TCP窗口大小</li><li>irtt：初始RTT</li><li>Iface：路由接口</li></ul><h4 id="只列出监听中的连接"><a href="#只列出监听中的连接" class="headerlink" title="只列出监听中的连接"></a>只列出监听中的连接</h4><pre class="language-sh"><code class="language-sh">netstat -tnl
</code></pre><pre class="language-sh"><code class="language-sh">激活Internet连接 (仅服务器)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 192.168.122.1:53        0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.1:35600         0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.54:53           0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.1:31080         0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.1:31055         0.0.0.0:*               LISTEN     
tcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN     
tcp6       0      0 :::41499                :::*                    LISTEN     
tcp6       0      0 127.0.0.1:52829         :::*                    LISTEN     
tcp6       0      0 127.0.0.1:35955         :::*                    LISTEN     
tcp6       0      0 127.0.0.1:63343         :::*                    LISTEN     
tcp6       0      0 127.0.0.1:63342         :::*                    LISTEN     
</code></pre><h4 id="获取进程名、进程号以及用户-ID"><a href="#获取进程名、进程号以及用户-ID" class="headerlink" title="获取进程名、进程号以及用户 ID"></a>获取进程名、进程号以及用户 ID</h4><pre class="language-sh"><code class="language-sh">netstat -tunlp
</code></pre><pre class="language-sh"><code class="language-sh">Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN      1144/dnsmasq    
tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      661/cupsd       
tcp6       0      0 ::1:631                 :::*                    LISTEN      661/cupsd
</code></pre><h4 id="查看进程的拥有者会更有用。使用-ep-选项可以同时查看进程名和用户名"><a href="#查看进程的拥有者会更有用。使用-ep-选项可以同时查看进程名和用户名" class="headerlink" title="查看进程的拥有者会更有用。使用 -ep 选项可以同时查看进程名和用户名"></a>查看进程的拥有者会更有用。使用 -ep 选项可以同时查看进程名和用户名</h4><pre class="language-sh"><code class="language-sh">netstat -tunlep
</code></pre><pre class="language-sh"><code class="language-sh">Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
tcp        0      0 192.168.122.1:domain    0.0.0.0:*               LISTEN      root       14887      1567/dnsmasq        
tcp        0      0 localhost:ipp           0.0.0.0:*               LISTEN      root       1946474    310640/cupsd     
</code></pre><p>参考：<br><a target="_blank" rel="noopener" href="https://docs.oracle.com/cd/E26926_01/html/E25874/ipconfig-142.html">https://docs.oracle.com/cd/E26926_01/html/E25874/ipconfig-142.html</a></p><link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者: </i></span><span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">costalong</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接: </i></span><span class="reprint-info"><a href="https://costalong.com/2024/07/16/linux/netstat/">https://costalong.com/2024/07/16/linux/netstat/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明: </i></span><span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="/about" target="_blank">costalong</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/Linux/"><span class="chip bg-color">Linux</span> </a><a href="/tags/Network/"><span class="chip bg-color">Network</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="/libs/share/js/social-share.min.js"></script></div></div></div><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="/images/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="/images/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><style>.valine-card{margin:1.5rem auto}.valine-card .card-content{padding:20px 20px 5px 20px}#vcomments textarea{box-sizing:border-box;background:url(/medias/comment_bg.png) 100% 100% no-repeat}#vcomments p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.78rem}#vcomments blockquote p{text-indent:.2rem}#vcomments a{padding:0 2px;color:#4cbf30;font-weight:500;text-decoration:none}#vcomments img{max-width:100%;height:auto;cursor:pointer}#vcomments ol li{list-style-type:decimal}#vcomments ol,ul{display:block;padding-left:2em;word-spacing:.05rem}#vcomments ul li,ol li{display:list-item;line-height:1.8rem;font-size:1rem}#vcomments ul li{list-style-type:disc}#vcomments ul ul li{list-style-type:circle}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}#vcomments table,td,th{border:0}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments h1{font-size:1.85rem;font-weight:700;line-height:2.2rem}#vcomments h2{font-size:1.65rem;font-weight:700;line-height:1.9rem}#vcomments h3{font-size:1.45rem;font-weight:700;line-height:1.7rem}#vcomments h4{font-size:1.25rem;font-weight:700;line-height:1.5rem}#vcomments h5{font-size:1.1rem;font-weight:700;line-height:1.4rem}#vcomments h6{font-size:1rem;line-height:1.3rem}#vcomments p{font-size:1rem;line-height:1.5rem}#vcomments hr{margin:12px 0;border:0;border-top:1px solid #ccc}#vcomments blockquote{margin:15px 0;border-left:5px solid #42b983;padding:1rem .8rem .3rem .8rem;color:#666;background-color:rgba(66,185,131,.1)}#vcomments pre{font-family:monospace,monospace;padding:1.2em;margin:.5em 0;background:#272822;overflow:auto;border-radius:.3em;tab-size:4}#vcomments code{font-family:monospace,monospace;padding:1px 3px;font-size:.92rem;color:#e96900;background-color:#f8f8f8;border-radius:2px}#vcomments pre code{font-family:monospace,monospace;padding:0;color:#e8eaf6;background-color:#272822}#vcomments pre[class*=language-]{padding:1.2em;margin:.5em 0}#vcomments code[class*=language-],pre[class*=language-]{color:#e8eaf6}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}#vcomments b,strong{font-weight:700}#vcomments dfn{font-style:italic}#vcomments small{font-size:85%}#vcomments cite{font-style:normal}#vcomments mark{background-color:#fcf8e3;padding:.2em}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}</style><div class="card valine-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="vcomments" class="card-content" style="display:grid"></div></div><script src="/libs/valine/av-min.js"></script><script src="/libs/valine/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"wCf5tlcDtIMPMtrnfln6u3fL-MdYXbMMI",appKey:"pvzhB4VvZzNeC5gtXTaIv0oo",serverURLs:"https://wcf5tlcd.api.lncldglobal.com",notify:!1,verify:!1,visitor:!0,avatar:"mm",pageSize:"10",lang:"zh-cn",placeholder:"just go go"})</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i>&nbsp;上一篇</div><div class="card"><a href="/2024/07/16/go/package/semaphore/"><div class="card-image"><img src="/medias/featureimages/11.jpg" class="responsive-img" alt="semaphore 信号量"> <span class="card-title">semaphore 信号量</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2024-07-16 </span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/golang/" class="post-category">golang</a></span></div></div><div class="card-action article-tags"><a href="/tags/golang/"><span class="chip bg-color">golang</span> </a><a href="/tags/package/"><span class="chip bg-color">package</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/2024/07/11/git/no-sensitive/"><div class="card-image"><img src="/medias/featureimages/13.jpg" class="responsive-img" alt="如何在 Git 提交中禁止包含敏感信息"> <span class="card-title">如何在 Git 提交中禁止包含敏感信息</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2024-07-11 </span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/Tool/" class="post-category">Tool</a></span></div></div><div class="card-action article-tags"><a href="/tags/git/"><span class="chip bg-color">git</span></a></div></div></div></div></article></div><script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script><script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script><script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script><script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget card" style="background-color:#fff"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:0!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2023-2026</span> <a href="/about" target="_blank">costalong</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br><span id="busuanzi_container_site_pv">&nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp; <span id="busuanzi_value_site_pv" class="white-color"></span> </span><span id="busuanzi_container_site_uv">&nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp; <span id="busuanzi_value_site_uv" class="white-color"></span></span><br><br><span id="icp"><img src="/medias/icp.png" style="vertical-align:text-bottom"> <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">湘ICP备15006875号</a></span></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/costa92" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i> </a><a href="mailto:costa9293@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i> </a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=944310536" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 944310536" data-position="top" data-delay="50"><i class="fab fa-qq"></i> </a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script type="text/javascript">$(function(){!function(t,s,i){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),n=document.getElementById(s),r=document.getElementById(i);n.addEventListener("input",function(){var f='<ul class="search-result-list">',m=this.value.trim().toLowerCase().split(/[\s\-]+/);r.innerHTML="",this.value.trim().length<=0||(e.forEach(function(t){var n,e,r,s,i,l=!0,a=t.title.trim().toLowerCase(),c=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),u=0===(u=t.url).indexOf("/")?t.url:"/"+u,o=-1,h=-1;""!==a&&""!==c&&m.forEach(function(t,e){n=a.indexOf(t),o=c.indexOf(t),n<0&&o<0?l=!1:(o<0&&(o=0),0===e&&(h=o))}),l&&(f+="<li><a href='"+u+"' class='search-result-title'>"+a+"</a>",e=t.content.trim().replace(/<[^>]+>/g,""),0<=h&&(s=h+80,(r=h-20)<0&&(r=0),0===r&&(s=100),s>e.length&&(s=e.length),i=e.substr(r,s),m.forEach(function(t){var e=new RegExp(t,"gi");i=i.replace(e,'<em class="search-keyword">'+t+"</em>")}),f+='<p class="search-result">'+i+"...</p>"),f+="</li>")}),f+="</ul>",r.innerHTML=f)})}})}("/search.xml","searchInput","searchResult")})</script><div class="stars-con"><div id="stars"></div><div id="stars2"></div><div id="stars3"></div></div><script>function switchNightMode(){$('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($("body")),setTimeout(function(){$("body").hasClass("DarkMode")?($("body").removeClass("DarkMode"),localStorage.setItem("isDark","0"),$("#sum-moon-icon").removeClass("fa-sun").addClass("fa-moon")):($("body").addClass("DarkMode"),localStorage.setItem("isDark","1"),$("#sum-moon-icon").addClass("fa-sun").removeClass("fa-moon")),setTimeout(function(){$(".Cuteen_DarkSky").fadeOut(1e3,function(){$(this).remove()})},2e3)})}</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script src="/js/infinite-scroll.js"></script><link rel="alternate" type="application/rss+xml" title="翼舞成梦" href="https://costalong.com/rss.xml%7D"><link rel="alternate" type="application/atom+xml" title="翼舞成梦" href="https://costalong.com/atom.xml"><link rel="alternate" type="application/json" title="翼舞成梦" href="https://costalong.com/feed.json"><script src="https://ssl.captcha.qq.com/TCaptcha.js"></script><script src="/libs/others/TencentCaptcha.js"></script><button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?d47e14d67fd7fb300f145d70a5a68b70";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/libs/others/clicklove.js" async></script><script async src="/libs/others/busuanzi.pure.mini.js"></script><script src="/libs/instantpage/instantpage.js" type="module"></script><script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script><script>const hasAttr = (e,a) => a.some(_=> e.attr(_)!==undefined);
        $('a').each(function() {
          const $this = $(this);
          if(hasAttr($this,["data-fancybox","ignore-external-link"])) return;
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'https://costalong.com' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });</script><style>[bg-lazy]{background-image:none!important;background-color:#eee!important}</style><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(a){a.imageLazyLoadSetting.processImages=t;var e=a.imageLazyLoadSetting.isSPA,i=a.imageLazyLoadSetting.preloadRatio||1,o=r();function r(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(o=r());for(var t,n=0;n<o.length;n++)0<=(t=o[n].getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(a.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var e=o[n];!function(t,e){if(t.hasAttribute("bg-lazy"))return t.removeAttribute("bg-lazy"),e();var n=new Image,a=t.getAttribute("data-original");n.onload=function(){t.src=a,t.removeAttribute("data-original"),e()},t.src!==a&&(n.src=a)}(e,function(){o=o.filter(function(t){return e!==t}),a.imageLazyLoadSetting.onImageLoaded&&a.imageLazyLoadSetting.onImageLoaded(e)})}()}function n(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",n),a.addEventListener("resize",n),a.addEventListener("orientationchange",n)}(this)</script></body></html>